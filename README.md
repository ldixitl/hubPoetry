# Проект SkyPro

## Описание:

Проект SkyPro представляет собой виджет банковских операций клиента. 
Он позволяет фильтровать и сортировать операции по различным параметрам. 
А также создавать маски счетов и номеров карт.
* Реализована функция, которая принимает на вход номер карты и возвращает ее маску.
    Номер карты замаскирован и отображается в формате
    XXXX XX** **** XXXX, где X — это цифра номера.
* Реализована функция, которая принимает на вход номер счета и возвращает его маску.
    Номер счета замаскирован и отображается в формате **XXXX,
     где X — это цифра номера.
* Реализована функция, которая принимает один аргумент — строку, содержащую тип и номер карты или счета,
    возвращает строку с замаскированным номером.
    Для карт и счетов используйте разные типы маскировки
* Реализована функция, которая принимает на вход строку с датой в формате 
    "2024-03-11T02:26:18.671407" и возвращает строку с датой в формате "ДД.ММ.ГГГГ"("11.03.2024").
* Реализована функция, которая принимает список словарей
    и опционально значение для ключа state (по умолчанию 'EXECUTED').
    Функция возвращает новый список словарей, содержащий только те словари,
    у которых ключ state соответствует указанному значению.
* Реализована функция, которая принимает список словарей и необязательный параметр,
    задающий порядок сортировки (по умолчанию — убывание).
    Функция возвращает новый список, отсортированный по дате (date).

## Установка:

1. Клонируйте репозиторий:
```
git clone https://github.com/ldixitl/hubPoetry.git
```
2. Установите зависимости:

Используется Poetry для управления зависимостями. Убедитесь, что Poetry установлен.
После установки выполните:
```
poetry install
```

## Использование:
### Пример работы функций:
1. Маскировка номера карты:
   ```python
   from masks import get_mask_card_number

   card_number = 1234567812345678
   print(get_mask_card_number(card_number))
   # Вывод: 1234 56** **** 5678
   ```

2. Маскировка номера счета
   ```python
   from masks import get_mask_account

   account_number = 987654321
   print(get_mask_account(account_number))
   # Вывод: **4321
   ```

3. Фильтрация операций:
   ```python
   from processing import filter_by_state

   operations = [
       {"id": 1, "state": "EXECUTED", "date": "2023-12-01"},
       {"id": 2, "state": "CANCELED", "date": "2023-11-01"}
   ]
   print(filter_by_state(operations, state="CANCELED"))
   # Вывод: [{'id': 2, 'state': 'CANCELED', 'date': '2023-11-01'}]
   ```

4. Сортировка операций:
   ```python
   from processing import sort_by_date

   operations = [
       {"id": 1, "date": "2023-12-01", "amount": 100},
       {"id": 2, "date": "2023-11-01", "amount": 200}
   ]
   print(sort_by_date(operations, if_reverse=False))
   # Вывод: [{'id': 2, 'date': '2023-11-01', 'amount': 200},
   #          {'id': 1, 'date': '2023-12-01', 'amount': 100}]
   ```
   
## Тестирование

Для тестирования в проекте используются **pytest** и плагин **pytest-cov** для измерения покрытия кода тестами.

### Запуск тестов
Чтобы запустить тесты, выполните команду:
```bash
pytest
```

### Отчёт о покрытии кода
Для генерации отчёта о покрытии кода в формате HTML выполните:

```bash
pytest --cov=src --cov-report=html
```
После выполнения команда сгенерирует папку **htmlcov**, содержащую отчёт. 
Откройте файл **htmlcov/index.html** в браузере, чтобы просмотреть детализированный отчёт.

## Лицензия:

Этот проект лицензирован по [лицензии MIT](LICENSE).
